.product-listing
  .col-lg-3.col-sm-6.col-xs-12(ng-repeat='product in products' ng-class-odd="'odd'" ng-class-even="'even'")
    .col-lg-12
      a(ng-href='{{product.permalink}}')
        img.img-responsive.full(ng-src="{{product.image.large}}")

    h2.title
      a(ng-href='{{product.permalink}}') {{product.name}}

    p.desc
      | {{product.description}}

    .with-variants(ng-show="product.hasVariants")
      ul.variants
        li(ng-repeat="variant in product.variants")
          a(ng-click="selectVariant(variant)"
            ng-class="{'is-selected': isSelected(variant)}"
            ng-bind="variant.options_text")

      add-to-cart-button(product="product" variant="selectedVariants[product.id]" quantity=1)

    .without-variants(ng-hide="product.hasVariants")
      add-to-cart-button(product="product" variant="product.master" quantity=1)
